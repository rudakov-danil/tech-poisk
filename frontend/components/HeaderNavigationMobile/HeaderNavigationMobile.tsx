"use client";

import { useEffect, useState } from "react";
import styles from "./HeaderNavigationMobile.module.css";
import Link from "next/link";
import { usePathname } from "next/navigation";

export function HeaderNavigationMobile({
  isCatalogPopUpActive,
  setIsCatalogPopUpActive,
}: any) {
  const [activePage, setActivePage] = useState("");
  const path = usePathname();
  useEffect(() => {
    if (path.includes("productCard")) {
      setActivePage("productCard");
    } else if (path === "/") {
      setActivePage("home");
    } else if (path.includes("FavoritePage")) {
      setActivePage("FavoritePage");
    } else if (path.includes("ComparisonPage")) {
      setActivePage("ComparisonPage");
    } else if (path.includes("CatalogPage")) {
      setActivePage("CatalogPage");
    }
  }, [path]);
  return (
    <section className="w-[100%] sticky bg-white py-[15px] bottom-0 lg:hidden">
      <nav>
        <ul className="flex justify-around">
          <li>
            <Link
              href="/CatalogPage"
              className="flex flex-col items-center"
              style={{
                color: activePage === "CatalogPage" ? "#ff5252" : "#9e9e9e",
              }}
            >
              <svg
                width="30"
                height="30"
                viewBox="0 0 37 38"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M20.0417 25.3489H4.62504C4.21617 25.3489 3.82404 25.5109 3.53492 25.7992C3.2458 26.0875 3.08337 26.4786 3.08337 26.8863C3.08337 27.2941 3.2458 27.6851 3.53492 27.9734C3.82404 28.2618 4.21617 28.4237 4.62504 28.4237H20.0417C20.4506 28.4237 20.8427 28.2618 21.1318 27.9734C21.4209 27.6851 21.5834 27.2941 21.5834 26.8863C21.5834 26.4786 21.4209 26.0875 21.1318 25.7992C20.8427 25.5109 20.4506 25.3489 20.0417 25.3489ZM4.62504 13.0498H32.375C32.7839 13.0498 33.176 12.8878 33.4652 12.5995C33.7543 12.3112 33.9167 11.9201 33.9167 11.5124C33.9167 11.1046 33.7543 10.7136 33.4652 10.4253C33.176 10.137 32.7839 9.97498 32.375 9.97498H4.62504C4.21617 9.97498 3.82404 10.137 3.53492 10.4253C3.2458 10.7136 3.08337 11.1046 3.08337 11.5124C3.08337 11.9201 3.2458 12.3112 3.53492 12.5995C3.82404 12.8878 4.21617 13.0498 4.62504 13.0498ZM32.375 17.662H4.62504C4.21617 17.662 3.82404 17.8239 3.53492 18.1122C3.2458 18.4006 3.08337 18.7916 3.08337 19.1994C3.08337 19.6071 3.2458 19.9981 3.53492 20.2865C3.82404 20.5748 4.21617 20.7367 4.62504 20.7367H32.375C32.7839 20.7367 33.176 20.5748 33.4652 20.2865C33.7543 19.9981 33.9167 19.6071 33.9167 19.1994C33.9167 18.7916 33.7543 18.4006 33.4652 18.1122C33.176 17.8239 32.7839 17.662 32.375 17.662Z"
                  style={{
                    fill: activePage === "CatalogPage" ? "#ff5252" : "#9e9e9e",
                  }}
                />
              </svg>
              Каталог
            </Link>
          </li>
          <li className="flex flex-col items-center">
            {" "}
            <Link
              style={{ color: activePage === "home" ? "#ff5252" : "#9e9e9e" }}
              className="flex flex-col items-center"
              href="/"
            >
              <svg
                width="30"
                height="30"
                viewBox="0 0 24 25"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M12 15.8469C9.93 15.8469 8.25 14.1669 8.25 12.0969C8.25 10.0269 9.93 8.34692 12 8.34692C14.07 8.34692 15.75 10.0269 15.75 12.0969C15.75 14.1669 14.07 15.8469 12 15.8469ZM12 9.84692C10.76 9.84692 9.75 10.8569 9.75 12.0969C9.75 13.3369 10.76 14.3469 12 14.3469C13.24 14.3469 14.25 13.3369 14.25 12.0969C14.25 10.8569 13.24 9.84692 12 9.84692Z"
                  fill="#0260E8"
                  style={{
                    fill: activePage === "home" ? "#ff5252" : "#9e9e9e",
                  }}
                />
                <path
                  d="M15.21 22.287C15 22.287 14.79 22.257 14.58 22.207C13.96 22.037 13.44 21.647 13.11 21.097L12.99 20.897C12.4 19.877 11.59 19.877 11 20.897L10.89 21.087C10.56 21.647 10.04 22.047 9.42 22.207C8.79 22.377 8.14 22.287 7.59 21.957L5.87 20.967C5.26 20.617 4.82 20.047 4.63 19.357C4.45 18.667 4.54 17.957 4.89 17.347C5.18 16.837 5.26 16.377 5.09 16.087C4.92 15.797 4.49 15.627 3.9 15.627C2.44 15.627 1.25 14.437 1.25 12.977V11.217C1.25 9.75697 2.44 8.56697 3.9 8.56697C4.49 8.56697 4.92 8.39697 5.09 8.10697C5.26 7.81697 5.19 7.35697 4.89 6.84697C4.54 6.23697 4.45 5.51697 4.63 4.83697C4.81 4.14697 5.25 3.57697 5.87 3.22697L7.6 2.23697C8.73 1.56697 10.22 1.95697 10.9 3.10697L11.02 3.30697C11.61 4.32697 12.42 4.32697 13.01 3.30697L13.12 3.11697C13.8 1.95697 15.29 1.56697 16.43 2.24697L18.15 3.23697C18.76 3.58697 19.2 4.15697 19.39 4.84697C19.57 5.53697 19.48 6.24697 19.13 6.85697C18.84 7.36697 18.76 7.82697 18.93 8.11697C19.1 8.40697 19.53 8.57697 20.12 8.57697C21.58 8.57697 22.77 9.76697 22.77 11.227V12.987C22.77 14.447 21.58 15.637 20.12 15.637C19.53 15.637 19.1 15.807 18.93 16.097C18.76 16.387 18.83 16.847 19.13 17.357C19.48 17.967 19.58 18.687 19.39 19.367C19.21 20.057 18.77 20.627 18.15 20.977L16.42 21.967C16.04 22.177 15.63 22.287 15.21 22.287ZM12 18.587C12.89 18.587 13.72 19.147 14.29 20.137L14.4 20.327C14.52 20.537 14.72 20.687 14.96 20.747C15.2 20.807 15.44 20.777 15.64 20.657L17.37 19.657C17.63 19.507 17.83 19.257 17.91 18.957C17.99 18.657 17.95 18.347 17.8 18.087C17.23 17.107 17.16 16.097 17.6 15.327C18.04 14.557 18.95 14.117 20.09 14.117C20.73 14.117 21.24 13.607 21.24 12.967V11.207C21.24 10.577 20.73 10.057 20.09 10.057C18.95 10.057 18.04 9.61697 17.6 8.84697C17.16 8.07697 17.23 7.06697 17.8 6.08697C17.95 5.82697 17.99 5.51697 17.91 5.21697C17.83 4.91697 17.64 4.67697 17.38 4.51697L15.65 3.52697C15.22 3.26697 14.65 3.41697 14.39 3.85697L14.28 4.04697C13.71 5.03697 12.88 5.59697 11.99 5.59697C11.1 5.59697 10.27 5.03697 9.7 4.04697L9.59 3.84697C9.34 3.42697 8.78 3.27697 8.35 3.52697L6.62 4.52697C6.36 4.67697 6.16 4.92697 6.08 5.22697C6 5.52697 6.04 5.83697 6.19 6.09697C6.76 7.07697 6.83 8.08697 6.39 8.85697C5.95 9.62697 5.04 10.067 3.9 10.067C3.26 10.067 2.75 10.577 2.75 11.217V12.977C2.75 13.607 3.26 14.127 3.9 14.127C5.04 14.127 5.95 14.567 6.39 15.337C6.83 16.107 6.76 17.117 6.19 18.097C6.04 18.357 6 18.667 6.08 18.967C6.16 19.267 6.35 19.507 6.61 19.667L8.34 20.657C8.55 20.787 8.8 20.817 9.03 20.757C9.27 20.697 9.47 20.537 9.6 20.327L9.71 20.137C10.28 19.157 11.11 18.587 12 18.587Z"
                  style={{
                    fill: activePage === "home" ? "#ff5252" : "#9e9e9e",
                  }}
                />
              </svg>
              Конфигуратор
            </Link>
          </li>
          <li className="flex flex-col items-center">
            {" "}
            <Link
              href="/FavoritePage"
              style={{
                color: activePage === "FavoritePage" ? "#ff5252" : "#9e9e9e",
              }}
              className="flex flex-col items-center"
            >
              <svg
                width="30"
                height="30"
                viewBox="0 0 30 30"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  className={styles["search-part-favorites-path"]}
                  d="M25.2001 6.23271C23.8751 4.9079 22.1186 4.09932 20.248 3.95301C18.3774 3.8067 16.5161 4.33233 15.0001 5.43493C13.4097 4.25525 11.4301 3.72033 9.46 3.93789C7.48991 4.15544 5.67565 5.10931 4.38257 6.6074C3.08948 8.1055 2.41363 10.0365 2.4911 12.0117C2.56858 13.9868 3.39362 15.8593 4.8001 17.2521L12.5626 25.0056C13.2126 25.6435 14.0881 26.0011 15.0001 26.0011C15.9121 26.0011 16.7876 25.6435 17.4376 25.0056L25.2001 17.2521C26.6596 15.7878 27.4788 13.807 27.4788 11.7424C27.4788 9.6778 26.6596 7.69706 25.2001 6.23271ZM23.4376 15.5319L15.6751 23.2729C15.5868 23.3618 15.4816 23.4324 15.3658 23.4806C15.2499 23.5288 15.1256 23.5536 15.0001 23.5536C14.8746 23.5536 14.7503 23.5288 14.6344 23.4806C14.5186 23.4324 14.4134 23.3618 14.3251 23.2729L6.5626 15.4945C5.5823 14.4952 5.03336 13.1528 5.03336 11.7549C5.03336 10.3569 5.5823 9.01455 6.5626 8.01526C7.56154 7.03173 8.90882 6.48024 10.3126 6.48024C11.7164 6.48024 13.0637 7.03173 14.0626 8.01526C14.1788 8.1321 14.3171 8.22483 14.4694 8.28812C14.6217 8.3514 14.7851 8.38399 14.9501 8.38399C15.1151 8.38399 15.2785 8.3514 15.4308 8.28812C15.5831 8.22483 15.7214 8.1321 15.8376 8.01526C16.8365 7.03173 18.1838 6.48024 19.5876 6.48024C20.9914 6.48024 22.3387 7.03173 23.3376 8.01526C24.3314 9.00146 24.8983 10.3366 24.917 11.7345C24.9357 13.1325 24.4047 14.4822 23.4376 15.4945V15.5319Z"
                  style={{
                    fill: activePage === "FavoritePage" ? "#ff5252" : "#9e9e9e",
                  }}
                />
              </svg>
              Избранное
            </Link>
          </li>
          <li className="flex flex-col items-center">
            <Link
              href="/ComparisonPage"
              style={{
                color: activePage === "ComparisonPage" ? "#ff5252" : "#9e9e9e",
              }}
              className="flex flex-col items-center"
            >
              <svg
                width="30"
                height="30"
                viewBox="0 0 30 30"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  className={styles["search-part-comparison-path"]}
                  d="M6.25 14.9584C5.91848 14.9584 5.60054 15.0897 5.36612 15.3235C5.1317 15.5573 5 15.8744 5 16.205V26.1773C5 26.5079 5.1317 26.8249 5.36612 27.0587C5.60054 27.2925 5.91848 27.4238 6.25 27.4238C6.58152 27.4238 6.89946 27.2925 7.13388 27.0587C7.3683 26.8249 7.5 26.5079 7.5 26.1773V16.205C7.5 15.8744 7.3683 15.5573 7.13388 15.3235C6.89946 15.0897 6.58152 14.9584 6.25 14.9584ZM12.5 2.49304C12.1685 2.49304 11.8505 2.62437 11.6161 2.85814C11.3817 3.09192 11.25 3.40898 11.25 3.73958V26.1773C11.25 26.5079 11.3817 26.8249 11.6161 27.0587C11.8505 27.2925 12.1685 27.4238 12.5 27.4238C12.8315 27.4238 13.1495 27.2925 13.3839 27.0587C13.6183 26.8249 13.75 26.5079 13.75 26.1773V3.73958C13.75 3.40898 13.6183 3.09192 13.3839 2.85814C13.1495 2.62437 12.8315 2.49304 12.5 2.49304ZM25 19.9446C24.6685 19.9446 24.3505 20.0759 24.1161 20.3097C23.8817 20.5434 23.75 20.8605 23.75 21.1911V26.1773C23.75 26.5079 23.8817 26.8249 24.1161 27.0587C24.3505 27.2925 24.6685 27.4238 25 27.4238C25.3315 27.4238 25.6495 27.2925 25.8839 27.0587C26.1183 26.8249 26.25 26.5079 26.25 26.1773V21.1911C26.25 20.8605 26.1183 20.5434 25.8839 20.3097C25.6495 20.0759 25.3315 19.9446 25 19.9446ZM18.75 9.97227C18.4185 9.97227 18.1005 10.1036 17.8661 10.3374C17.6317 10.5711 17.5 10.8882 17.5 11.2188V26.1773C17.5 26.5079 17.6317 26.8249 17.8661 27.0587C18.1005 27.2925 18.4185 27.4238 18.75 27.4238C19.0815 27.4238 19.3995 27.2925 19.6339 27.0587C19.8683 26.8249 20 26.5079 20 26.1773V11.2188C20 10.8882 19.8683 10.5711 19.6339 10.3374C19.3995 10.1036 19.0815 9.97227 18.75 9.97227Z"
                  style={{
                    fill:
                      activePage === "ComparisonPage" ? "#ff5252" : "#9e9e9e",
                  }}
                />
              </svg>
              Сравнение
            </Link>
          </li>
        </ul>
      </nav>
    </section>
  );
}
